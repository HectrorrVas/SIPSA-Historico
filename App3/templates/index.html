<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üåø SIPSA ANALYZER - CANASTA FAMILIAR</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
  <div class="container">
    <!-- Header Principal -->
    <div class="card fade-in">
      <div class="card-header">
        <div class="leaf-decoration">üåø</div>
        <div class="leaf-decoration" style="right: 10px; left: auto;">ü•¶</div>
        <h1>üåø SIPSA ANALYZER PRO</h1>
        <p class="subtitle">
          SISTEMA AVANZADO DE AN√ÅLISIS DE PRECIOS DE CANASTA FAMILIAR
        </p>
      </div>
    </div>

    <!-- Formulario de An√°lisis -->
    <div class="card fade-in" style="animation-delay: 0.2s;">
      <div class="card-body">
        <h2>üîç CONFIGURAR AN√ÅLISIS</h2>
        <div class="decorative-bar"></div>

        <form method="POST" action="/analizar" id="analysisForm">
          <div class="form-grid">
            <div class="form-group">
              <label for="anio">üìÖ A√ëO DE AN√ÅLISIS</label>
              <input type="text"
                     id="anio"
                     name="anio"
                     class="form-control"
                     placeholder="EJ: 2025"
                     required
                     pattern="\d{4}">
              <small style="color: var(--gray); font-size: 13px; margin-top: 8px; display: block; text-align: center;">
                INGRESE EL A√ëO EN FORMATO YYYY
              </small>
            </div>

            <div class="form-group">
              <label for="hoja">üìã CATEGOR√çA DE PRODUCTOS</label>
              <select id="hoja" name="hoja" class="form-control" required>
                {% for codigo, nombre in opciones_hoja.items() %}
                <option value="{{ codigo }}">{{ codigo }} - {{ nombre }}</option>
                {% endfor %}
              </select>
            </div>

            <div class="form-group">
              <label for="producto">ü•¶ PRODUCTO A ANALIZAR</label>
              <input type="text"
                     id="producto"
                     name="producto"
                     class="form-control"
                     placeholder="EJ: TOMATE CHONTO, CEBOLLA CABEZONA"
                     required>
            </div>

            <div class="form-group">
              <label for="ciudad">üèôÔ∏è CIUDAD O MERCADO</label>
              <input type="text"
                     id="ciudad"
                     name="ciudad"
                     class="form-control"
                     placeholder="EJ: CALI, CORABASTOS, MEDELL√çN"
                     required>
            </div>
          </div>

          <div style="text-align: center; margin-top: 35px;">
            <button type="submit" class="btn btn-primary">
              <span class="icon">üìà</span>
              INICIAR AN√ÅLISIS DE PRECIOS
            </button>
          </div>
        </form>
      </div>
    </div>

    <!-- Informaci√≥n Adicional -->
    <div class="card fade-in" style="animation-delay: 0.4s;">
      <div class="card-body">
        <h3>üí° INFORMACI√ìN DEL SISTEMA</h3>
        <div class="decorative-bar"></div>
        <div class="info-grid">
          <div class="info-item">
            <h4>üîç B√öSQUEDA INTELIGENTE</h4>
            <p>Encuentra autom√°ticamente los datos del producto en todos los boletines del a√±o seleccionado</p>
          </div>
          <div class="info-item">
            <h4>üìà AN√ÅLISIS AVANZADO</h4>
            <p>Visualiza tendencias, promedios y comportamientos estacionales de los precios de canasta familiar</p>
          </div>
          <div class="info-item">
            <h4>üíæ DATOS CONFIABLES</h4>
            <p>Informaci√≥n oficial del Sistema de Informaci√≥n de Precios y Abastecimiento (SIPSA)</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    document.getElementById('analysisForm').addEventListener('submit', function(e) {
      const button = this.querySelector('button[type="submit"]');
      button.innerHTML = '<span class="loading"></span> PROCESANDO DATOS...';
      button.disabled = true;
    });

    // Mejorar experiencia de usuario
    document.querySelectorAll('.form-control').forEach(input => {
      input.addEventListener('focus', function() {
        this.style.background = '#ffffff';
        this.style.boxShadow = '0 0 0 4px rgba(39, 174, 96, 0.2)';
      });

      input.addEventListener('blur', function() {
        this.style.background = '#f8fff8';
        this.style.boxShadow = 'none';
      });
    });

    // Convertir a may√∫sculas al escribir
    document.querySelectorAll('input[type="text"]').forEach(input => {
      input.addEventListener('input', function() {
        this.value = this.value.toUpperCase();
      });
    });
  </script>
</body>
</html>